(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{"0WH9":function(t,a,e){"use strict";e.r(a);var n=e("yIyI"),i=e.n(n);for(var c in n)"default"!==c&&function(t){e.d(a,t,(function(){return n[t]}))}(c);a.default=i.a},"14Gx":function(t,a,e){"use strict";var n=e("ntPJ");e.n(n).a},"A3/U":function(t,a,e){"use strict";e.r(a);var n=e("TaDI"),i=e("0WH9");for(var c in i)"default"!==c&&function(t){e.d(a,t,(function(){return i[t]}))}(c);e("14Gx");var o=e("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"37349dbc",null);a.default=r.exports},Kr3I:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=c(e("JZuw")),i=c(e("VVfg"));function c(t){return t&&t.__esModule?t:{default:t}}a.default={data:function(){return{headPortrait:"",modifyPhone:"",changePwd:"",bindType:"",wechatId:"",wechatNickname:""}},components:{ModifyHeader:n.default},created:function(){this.modifyData(),this.wechat()},methods:{myModify:function(t){switch(t){case"modify-phone":this.$router.push("/modify-phone");break;case"change-pwd":this.$router.push("/change-pwd");break;case"bind-new-phone":this.$router.push("/bind-new-phone");break;default:this.$router.push("/")}},modifyData:function(){var t=this,a=i.default.getLItem("tokenId");this.appFetch({url:"users",method:"get",splice:"/"+a,data:{include:"wechat"}}).then((function(a){console.log(a),t.modifyPhone=a.readdata._data.mobile,t.headPortrait=a.readdata._data.avatarUrl,t.wechatId=a.readdata._data.id,a.readdata.wechat&&(console.log(a.readdata.wechat,"999999"),t.wechatNickname=a.readdata.wechat._data.nickname)}))},handleFile:function(t){var a=this,e=t.target.files[0];console.log(e);var n=new FormData;n.append("avatar",e),console.log(n);var c=i.default.getLItem("tokenId");this.appFetch({url:"upload",method:"post",splice:c+"/avatar",data:n}).then((function(t){a.headPortrait=t.data.attributes.avatarUrl}))},myModifyWechat:function(){var t=this;this.$dialog.confirm({title:"确认解绑微信"}).then((function(){console.log("000000"),t.wechat(t.wechatId)})).catch((function(){}))},wechat:function(t){""!=t&&null!=t&&this.appFetch({url:"wechatDelete",method:"delete",splice:this.wechatId+"/wechat",data:{}})},wechatBind:function(){this.appFetch({url:"wechatBind",method:"get",data:{}}).then((function(t){console.log(t.readdata._data.location),window.location.href=t.readdata._data.location}))}}}},"M+Jb":function(t,a,e){},TaDI:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modify-data-box"},[e("ModifyHeader",{attrs:{title:"我的资料"}}),t._v(" "),e("main",{staticClass:"modify-data-main content"},[e("div",{staticClass:"modify-data-avatar m-site-cell-access"},[t._m(0),t._v(" "),e("div",{staticClass:"modify-data-avatar-img"},[e("input",{staticClass:"hiddenInput",attrs:{type:"file",accept:"image/*"},on:{change:t.handleFile}}),t._v(" "),t.headPortrait?e("img",{attrs:{src:t.headPortrait,alt:"我的头像"}}):e("img",{staticClass:"resUserHead",attrs:{src:t.appConfig.staticBaseUrl+"/images/noavatar.gif"}}),t._v(" "),t._m(1)])]),t._v(" "),t.modifyPhone?e("van-cell",{attrs:{title:"手机号","is-link":"",value:t.modifyPhone},on:{click:function(a){return t.myModify("modify-phone")}}}):e("van-cell",{attrs:{title:"手机号","is-link":"",value:"去绑定"},on:{click:function(a){return t.$router.push({path:"/bind-new-phone"})}}}),t._v(" "),e("van-cell",{attrs:{title:"密码","is-link":"",value:"********"},on:{click:function(a){return t.myModify("change-pwd")}}}),t._v(" "),t.wechatNickname?e("van-cell",{attrs:{title:"微信","is-link":"",value:t.wechatNickname},on:{click:t.myModifyWechat}}):e("van-cell",{attrs:{title:"微信","is-link":"",value:"去绑定"},on:{click:t.wechatBind}})],1)],1)},i=[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modify-data-avatar-title m-site-cell-access-bd"},[a("p",[this._v("头像")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("i",[a("span",{staticClass:"icon iconfont icon-right m-site-cell-access-ft-icon",staticStyle:{color:"#e5e5e5"}})])}];e.d(a,"a",(function(){return n})),e.d(a,"b",(function(){return i}))},ntPJ:function(t,a,e){},yIyI:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=c(e("QbLZ"));e("M+Jb");var i=c(e("Kr3I"));function c(t){return t&&t.__esModule?t:{default:t}}a.default=(0,n.default)({name:"modify-data-view"},i.default)}}]);