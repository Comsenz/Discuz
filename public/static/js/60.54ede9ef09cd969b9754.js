(window.webpackJsonp=window.webpackJsonp||[]).push([[60,114],{"19Nx":function(t,a,e){"use strict";e.r(a);var s=e("MqYJ"),n=e("mfst");for(var i in n)"default"!==i&&function(t){e.d(a,t,(function(){return n[t]}))}(i);var o=e("KHd+"),c=Object(o.a)(n.default,s.a,s.b,!1,null,null,null);a.default=c.exports},"8mho":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=o(e("KKL4")),n=o(e("6NK7")),i=o(e("VVfg"));e("uXAG");function o(t){return t&&t.__esModule?t:{default:t}}a.default={data:function(){return{firstpostImageList:[],userId:""}},props:{themeCon:{type:Object},firstpostImageListProp:{type:Array}},created:function(){var t=navigator.userAgent;this.isAndroid=t.indexOf("Android")>-1||t.indexOf("Adr")>-1,this.isiOS=!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),this.isWeixin=n.default.isWeixin().isWeixin,this.isPhone=n.default.isWeixin().isPhone,this.userId=i.default.getLItem("tokenId")},computed:{},methods:{downAttachment:function(t){this.isiOS&&this.$message("因iphone系统限制，您的手机无法下载文件。请使用安卓手机或电脑访问下载")},jumpPerDet:function(t){this.$router.push({path:"/home-page/"+t})},imageSwiper:function(t,a,e){(0,s.default)({images:this.firstpostImageListProp,startPosition:t,showIndex:!0,showIndicators:!0,loop:!0})}},mounted:function(){},beforeRouteLeave:function(t,a,e){e()}}},MqYJ:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"circleCon"},[e("comHeader",{attrs:{title:"详情",menuIconShow:t.menuStatus}}),t._v(" "),e("van-pull-refresh",{attrs:{"head-height":0},on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(a){t.isLoading=a},expression:"isLoading"}},[t.themeShow?e("div",{staticClass:"content marBfixed"},[e("div",{staticClass:"cirPostCon"},[0==t.themeCon._data.isLongArticle?e("normalDetail",{attrs:{themeCon:t.themeCon,firstpostImageListProp:t.firstpostImageList}}):t._e(),t._v(" "),1==t.themeCon._data.isLongArticle?e("longTextDetail",{attrs:{themeCon:t.themeCon,userDet:t.userDet,firstpostImageListProp:t.firstpostImageList},on:{listenToChildEvent:t.detailsLoad}}):t._e(),t._v(" "),e("div",{staticClass:"postDetBot"},[e("span",{staticClass:"readNum"},[t._v(t._s(t.themeCon._data.postCount-1)+" 回复")]),t._v(" "),t.themeCon._data.canEssence||t.themeCon._data.canSticky||t.themeCon._data.canHide||t.themeCon._data.canEdit?e("div",{ref:"screenBox",staticClass:"screen",on:{click:t.bindScreen}},[e("span",[t._v("管理")]),t._v(" "),e("span",{staticClass:"icon iconfont icon-down-menu jtGrayB"}),t._v(" "),t.showScreen?e("div",{staticClass:"themeList"},[t.themeCon._data.canEssence?e("a",{attrs:{href:"javascript:;"},on:{click:function(a){return t.themeOpera(t.themeCon.firstPost._data.id,2,t.themeCon.category._data.id,t.themeCon.firstPost._data.content)}}},[t._v(t._s(t.essenceFlag))]):t._e(),t._v(" "),t.themeCon._data.canSticky?e("a",{attrs:{href:"javascript:;"},on:{click:function(a){return t.themeOpera(t.themeCon.firstPost._data.id,3,t.themeCon.category._data.id,t.themeCon.firstPost._data.content)}}},[t._v(t._s(t.stickyFlag))]):t._e(),t._v(" "),t.themeCon._data.canHide?e("a",{attrs:{href:"javascript:;"},on:{click:function(a){return t.themeOpera(t.themeCon.firstPost._data.id,4,t.themeCon.category._data.id,t.themeCon.firstPost._data.content)}}},[t._v("删除")]):t._e(),t._v(" "),t.themeCon.firstPost._data.canEdit?e("a",{attrs:{href:"javascript:;"},on:{click:function(a){return t.themeOpera(t.themeCon.firstPost._data.id,5,t.themeCon.category._data.id,t.themeCon.firstPost._data.content)}}},[t._v("编辑")]):t._e()]):t._e()]):t._e(),t._v(" "),e("a",{staticClass:"postDetR",attrs:{href:"javascript:;"},on:{click:function(a){return t.themeOpera(t.themeCon.firstPost._data.id,1,t.themeCon.category._data.id,t.themeCon.firstPost._data.content)}}},[t._v(t._s(t.collectFlag))]),t._v(" "),e("a",{staticClass:"postDetR",attrs:{href:"javascript:;"},on:{click:t.shareTheme}},[t._v("分享")]),t._v(" "),e("input",{attrs:{type:"button",hidden:"",value:"点击复制代码"}})])],1),t._v(" "),e("div",{staticClass:"gap"}),t._v(" "),e("div",{staticClass:"commentBox"},[t.themeCon.firstPost.likedUsers.length>0&&t.likeLen?e("div",{staticClass:"likeBox",model:{value:t.userArrStatus,callback:function(a){t.userArrStatus=a},expression:"userArrStatus"}},[e("span",{staticClass:"icon iconfont icon-praise-after"}),t._v(" "),e("span",{staticClass:"likedUserList",attrs:{id:"likedUserList"},domProps:{innerHTML:t._s(t.userArr(t.themeCon.firstPost.likedUsers,!1))}})]):t._e(),t._v(" "),t.themeCon.rewardedUsers.length>0&&t.themeCon.rewardedUsers.length<=11?e("div",{staticClass:"payPer"},[e("span",{staticClass:"icon iconfont icon-money"}),t._v(" "),t._l(t.themeCon.rewardedUsers,(function(a,s){return e("div",{key:s,staticClass:"payPerHeaChi"},[a._data.avatarUrl?e("img",{staticClass:"payPerHead",attrs:{src:a._data.avatarUrl},on:{click:function(e){return t.jumpPerDet(a._data.id)}}}):e("img",{staticClass:"payPerHead",attrs:{src:t.appConfig.staticBaseUrl+"/images/noavatar.gif"},on:{click:function(e){return t.jumpPerDet(a._data.id)}}})])}))],2):t._e(),t._v(" "),t.themeCon.rewardedUsers.length>11?e("div",{staticClass:"payPer"},[e("span",{staticClass:"icon iconfont icon-money"}),t._v(" "),t._l(t.themeCon.rewardedUsers,(function(a,s){return s<t.limitLen?e("div",{key:s,staticClass:"payPerHeaChi"},[a._data.avatarUrl?e("img",{staticClass:"payPerHead",attrs:{src:a._data.avatarUrl},on:{click:function(e){return t.jumpPerDet(a._data.id)}}}):e("img",{staticClass:"payPerHead",attrs:{src:t.appConfig.staticBaseUrl+"/images/noavatar.gif"},on:{click:function(e){return t.jumpPerDet(a._data.id)}}})]):t._e()})),t._v(" "),t.themeCon.rewardedUsers.length>5&&t.rewardTipShow?e("span",{staticClass:"foldTip"},[t._v("等"+t._s(t.themeCon.rewardedUsers.length)+"人进行了打赏")]):t._e()],2):t._e(),t._v(" "),e("van-list",{attrs:{finished:t.finished,offset:t.offset,"finished-text":"没有更多了","immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(a){t.loading=a},expression:"loading"}},t._l(t.themeCon.posts,(function(a,s){return e("div",{key:s},[e("div",{staticClass:"commentPostDet"},[e("div",{staticClass:"postTop"},[e("div",{staticClass:"postPer"},[a.user&&a.user._data.avatarUrl?e("img",{staticClass:"postHead",attrs:{src:a.user._data.avatarUrl},on:{click:function(e){return t.jumpPerDet(a.user._data.id)}}}):e("img",{staticClass:"postHead",attrs:{src:t.appConfig.staticBaseUrl+"/images/noavatar.gif"},on:{click:function(e){return t.jumpPerDet(a.user._data.id)}}}),t._v(" "),e("div",{staticClass:"perDet"},[a.user&&a.user._data.username?e("div",{staticClass:"perName",on:{click:function(e){return t.jumpPerDet(a.user._data.id)}}},[t._v(t._s(a.user._data.username))]):e("div",{staticClass:"perName"},[t._v("该用户已被删除")]),t._v(" "),e("div",{staticClass:"postTime"},[t._v(t._s(t.$moment(a._data.createdAt).format("YYYY-MM-DD HH:mm")))])])])]),t._v(" "),e("div",{staticClass:"postContent",domProps:{innerHTML:t._s(a._data.contentHtml)}}),t._v(" "),a.images.length>0?e("div",{staticClass:"postImgBox"},[e("div",{staticClass:"themeImgList moreImg"},[t.isWeixin||t.isPhone?e("div",t._l(a.images,(function(a,n){return e("van-image",{key:n,attrs:{"lazy-load":"",src:a._data.thumbUrl},on:{click:function(a){return t.imageSwiper(n,"replyImg",s)}}})})),1):e("div",t._l(a.images,(function(t,a){return e("van-image",{key:a,attrs:{"lazy-load":"",src:t._data.thumbUrl}})})),1)])]):t._e()]),t._v(" "),e("div",{staticClass:"commentOpera padT22"},[a._data.canHide?e("a",{on:{click:function(e){return t.deleteOpear(a._data.id,s)}}},[t._v("删除")]):t._e(),t._v(" "),a._data.isLiked?e("a",{on:{click:function(e){return t.replyOpera(a._data.id,"2",a._data.isLiked,a._data.canLike,s)}}},[e("span",{staticClass:"icon iconfont icon-praise-after",class:{"icon-like":t.likedClass}}),t._v(t._s(a._data.likeCount))]):e("a",{on:{click:function(e){return t.replyOpera(a._data.id,"2",a._data.isLiked,a._data.canLike,s)}}},[e("span",{staticClass:"icon iconfont icon-like",class:{"icon-praise-after":t.likedClass}}),t._v(t._s(a._data.likeCount))]),t._v(" "),e("a",{staticClass:"icon iconfont icon-review",on:{click:function(e){return t.replyToJump(t.themeCon._data.id,a._data.id,a._data.content)}}})])])})),0)],1)]):t._e()]),t._v(" "),t.themeCon?e("div",{staticClass:"detailsFooter",class:{twoChi:t.twoChi},attrs:{id:"detailsFooter"}},[e("div",{staticClass:"footChi",on:{click:function(a){return t.replyToJump(t.themeCon._data.id,0,!1)}}},[e("span",{staticClass:"icon iconfont icon-review"}),t._v("\n          回复\n        ")]),t._v(" "),e("div",{staticClass:"footChi",on:{click:function(a){return t.footReplyOpera(t.themeCon.firstPost._data.id,"3",t.themeIsLiked)}}},[t.themeIsLiked?e("span",{staticClass:"icon iconfont icon-praise-after"}):e("span",{staticClass:"icon iconfont icon-like"}),t._v("\n          赞\n        ")]),t._v(" "),"1"==t.wxpay||1==t.wxpay?e("div",{staticClass:"footChi",on:{click:t.showRewardPopup}},[e("span",{staticClass:"icon iconfont icon-reward"}),t._v("\n          打赏\n        ")]):t._e()]):t._e(),t._v(" "),e("van-popup",{staticClass:"rewardPopup",style:{overflow:"hidden",left:t.isPhone||t.isWeixin?"0":(t.viewportWidth-640)/2+"px",width:t.isPhone||t.isWeixin?"100%":"640px"},attrs:{id:"rewardPopup",closeable:"","close-icon-position":"top-right",position:"bottom"},model:{value:t.rewardShow,callback:function(a){t.rewardShow=a},expression:"rewardShow"}},[e("span",{staticClass:"support"},[t._v("支持作者继续创作")]),t._v(" "),e("div",{staticClass:"rewardMonBox"},t._l(t.rewardNumList,(function(a,s){return e("a",{key:s,staticClass:"moneyChi",on:{click:function(e){return t.payClick(a.rewardNum)}}},[e("span",[t._v(t._s(a.rewardNum))]),t._v("元\n          ")])})),0)]),t._v(" "),e("van-popup",{staticClass:"qrCodeBox",attrs:{round:"","close-icon-position":"top-right",closeable:"","get-container":"body"},model:{value:t.qrcodeShow,callback:function(a){t.qrcodeShow=a},expression:"qrcodeShow"}},[e("span",{staticClass:"popupTit"},[t._v("立即支付")]),t._v(" "),e("div",{staticClass:"payNum"},[t._v("￥"),e("span",[t._v(t._s(t.amountNum))])]),t._v(" "),e("div",{staticClass:"payType"},[e("span",{staticClass:"typeLeft"},[t._v("支付方式")]),t._v(" "),e("span",{staticClass:"typeRight"},[e("i",{staticClass:"icon iconfont icon-wepay"}),t._v("微信支付")])]),t._v(" "),e("img",{staticClass:"qrCode",attrs:{src:t.codeUrl,alt:""}}),t._v(" "),e("p",{staticClass:"payTip"},[t._v("微信识别二维码支付")])]),t._v(" "),t.userDet?e("PayMethod",{attrs:{data:t.payList,money:t.amountNum,balance:t.walletBalance,walletStatus:t.userDet._data.canWalletPay,"pwd-value":t.value,payUrl:"setup-pay-pwd",error:t.errorInfo},on:{oninput:t.onInput,delete:t.onDelete,close:t.onClose,payImmediatelyClick:t.payImmediatelyClick},model:{value:t.show,callback:function(a){t.show=a},expression:"show"}}):t._e(),t._v(" "),t.payLoading?e("div",{staticClass:"loadFix"},[e("div",{staticClass:"loadMask"}),t._v(" "),e("van-loading",{staticClass:"loadIcon",attrs:{color:"#f7f7f7",type:"spinner"}})],1):t._e(),t._v(" "),t.loginBtnFix?e("van-button",{staticClass:"loginBtnFix",class:{hide:t.loginHide},style:{overflow:"hidden",left:t.isPhone||t.isWeixin?"30%":(t.viewportWidth-640)/2+192+"px",width:t.isPhone||t.isWeixin?"40%":"256px"},attrs:{type:"primary"},on:{click:function(a){return t.loginJump(1)}}},[t._v(t._s(t.loginWord))]):t._e()],1)},n=[];e.d(a,"a",(function(){return s})),e.d(a,"b",(function(){return n}))},"Qo/1":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=d(e("QbLZ")),n=d(e("JZuw")),i=d(e("3XTc")),o=d(e("2qD6")),c=d(e("el7v")),r=d(e("dWbn"));function d(t){return t&&t.__esModule?t:{default:t}}e("iUmJ"),e("N960"),a.default=(0,s.default)({name:"detailsView",components:{comHeader:n.default,normalDetail:c.default,longTextDetail:o.default,PayMethod:i.default}},r.default)},el7v:function(t,a,e){"use strict";e.r(a);var s=e("rtlh"),n=e("hWSE");for(var i in n)"default"!==i&&function(t){e.d(a,t,(function(){return n[t]}))}(i);var o=e("KHd+"),c=Object(o.a)(n.default,s.a,s.b,!1,null,null,null);a.default=c.exports},hWSE:function(t,a,e){"use strict";e.r(a);var s=e("lQhp"),n=e.n(s);for(var i in s)"default"!==i&&function(t){e.d(a,t,(function(){return s[t]}))}(i);a.default=n.a},lQhp:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=i(e("QbLZ")),n=i(e("8mho"));function i(t){return t&&t.__esModule?t:{default:t}}e("iUmJ"),e("N960"),a.default=(0,s.default)({name:"normalDetailsView",components:{}},n.default)},mfst:function(t,a,e){"use strict";e.r(a);var s=e("Qo/1"),n=e.n(s);for(var i in s)"default"!==i&&function(t){e.d(a,t,(function(){return s[t]}))}(i);a.default=n.a},rtlh:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{model:{value:t.themeCon,callback:function(a){t.themeCon=a},expression:"themeCon"}},[e("div",{staticClass:"postTop"},[e("div",{staticClass:"postPer"},[t.themeCon.user&&t.themeCon.user._data.avatarUrl?e("img",{staticClass:"postHead",attrs:{src:t.themeCon.user._data.avatarUrl,alt:""},on:{click:function(a){return t.jumpPerDet(t.themeCon.user._data.id)}}}):e("img",{staticClass:"postHead",attrs:{src:t.appConfig.staticBaseUrl+"/images/noavatar.gif"},on:{click:function(a){return t.jumpPerDet(t.themeCon.user._data.id)}}}),t._v(" "),e("div",{staticClass:"perDet"},[t.themeCon.user?e("div",{staticClass:"perName",on:{click:function(a){return t.jumpPerDet(t.themeCon.user._data.id)}}},[t._v(t._s(t.themeCon.user._data.username))]):e("div",{staticClass:"perName"},[t._v("该用户已被删除")]),t._v(" "),e("div",{staticClass:"postTime"},[t._v(t._s(t.$moment(t.themeCon._data.createdAt).format("YYYY-MM-DD HH:mm")))])])]),t._v(" "),e("div",{staticClass:"postOpera"},[t.themeCon._data.isSticky?e("span",{staticClass:"icon iconfont icon-top"}):t._e()])]),t._v(" "),e("div",{staticClass:"postContent",domProps:{innerHTML:t._s(t.themeCon.firstPost._data.contentHtml)}}),t._v(" "),t.firstpostImageListProp.length>0?e("div",{staticClass:"postImgBox"},[e("div",{staticClass:"postImgList"},[t.isWeixin||t.isPhone?e("div",t._l(t.firstpostImageListProp,(function(a,s){return e("van-image",{key:s,attrs:{"lazy-load":"",key:"index",src:a},on:{click:function(a){return t.imageSwiper(s,"detailImg")}}})})),1):e("div",t._l(t.firstpostImageListProp,(function(t,a){return e("van-image",{key:a,attrs:{"lazy-load":"",key:"index",src:t}})})),1)])]):t._e(),t._v(" "),t.isiOS&&t.themeCon.firstPost.attachments.length>0?e("div",{staticClass:"uploadFileList"},t._l(t.themeCon.firstPost.attachments,(function(a,s){return e("a",{key:s,staticClass:"fileChi",on:{click:function(e){return t.downAttachment(a._data.url)}}},["rar"===a._data.extension?e("span",{staticClass:"icon iconfont icon-rar"}):t._e(),t._v(" "),"zip"===a._data.extension?e("span",{staticClass:"icon iconfont icon-rar"}):"doc"===a._data.extension?e("span",{staticClass:"icon iconfont icon-word"}):"docx"===a._data.extension?e("span",{staticClass:"icon iconfont icon-word"}):"pdf"===a._data.extension?e("span",{staticClass:"icon iconfont icon-pdf"}):"jpg"===a._data.extension?e("span",{staticClass:"icon iconfont icon-jpg"}):"mp"===a._data.extension?e("span",{staticClass:"icon iconfont icon-mp3"}):"mp1"===a._data.extension?e("span",{staticClass:"icon iconfont icon-mp4"}):"png"===a._data.extension?e("span",{staticClass:"icon iconfont icon-PNG"}):"ppt"===a._data.extension?e("span",{staticClass:"icon iconfont icon-ppt"}):"swf"===a._data.extension?e("span",{staticClass:"icon iconfont icon-swf"}):"TIFF"===a._data.extension?e("span",{staticClass:"icon iconfont icon-TIFF"}):"txt"===a._data.extension?e("span",{staticClass:"icon iconfont icon-txt"}):"xls"===a._data.extension?e("span",{staticClass:"icon iconfont icon-xls"}):e("span",{staticClass:"icon iconfont icon-doubt"}),t._v(" "),e("span",{staticClass:"fileName"},[t._v(t._s(a._data.fileName))])])})),0):t._e(),t._v(" "),!t.isiOS&&t.themeCon.firstPost.attachments.length>0?e("div",{staticClass:"uploadFileList"},t._l(t.themeCon.firstPost.attachments,(function(a,s){return e("a",{key:s,staticClass:"fileChi",attrs:{href:a._data.url,download:""}},["rar"===a._data.extension?e("span",{staticClass:"icon iconfont icon-rar"}):t._e(),t._v(" "),"zip"===a._data.extension?e("span",{staticClass:"icon iconfont icon-rar"}):"doc"===a._data.extension?e("span",{staticClass:"icon iconfont icon-word"}):"docx"===a._data.extension?e("span",{staticClass:"icon iconfont icon-word"}):"pdf"===a._data.extension?e("span",{staticClass:"icon iconfont icon-pdf"}):"jpg"===a._data.extension?e("span",{staticClass:"icon iconfont icon-jpg"}):"mp"===a._data.extension?e("span",{staticClass:"icon iconfont icon-mp3"}):"mp1"===a._data.extension?e("span",{staticClass:"icon iconfont icon-mp4"}):"png"===a._data.extension?e("span",{staticClass:"icon iconfont icon-PNG"}):"ppt"===a._data.extension?e("span",{staticClass:"icon iconfont icon-ppt"}):"swf"===a._data.extension?e("span",{staticClass:"icon iconfont icon-swf"}):"TIFF"===a._data.extension?e("span",{staticClass:"icon iconfont icon-TIFF"}):"txt"===a._data.extension?e("span",{staticClass:"icon iconfont icon-txt"}):"xls"===a._data.extension?e("span",{staticClass:"icon iconfont icon-xls"}):e("span",{staticClass:"icon iconfont icon-doubt"}),t._v(" "),e("span",{staticClass:"fileName"},[t._v(t._s(a._data.fileName))])])})),0):t._e()])},n=[];e.d(a,"a",(function(){return s})),e.d(a,"b",(function(){return n}))}}]);