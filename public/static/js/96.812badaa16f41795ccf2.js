(window.webpackJsonp=window.webpackJsonp||[]).push([[96],{"a/BD":function(e,t,a){"use strict";a.r(t);var n=a("nJBm"),i=a("zXmL");for(var r in i)"default"!==r&&function(e){a.d(t,e,(function(){return i[e]}))}(r);var o=a("KHd+"),s=Object(o.a)(i.default,n.a,n.b,!1,null,null,null);t.default=s.exports},jMuB:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(a("QbLZ"));a("Cpqr");var i=r(a("piPi"));function r(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.default)({name:"reward"},i.default)},nJBm:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"reward-box my-info-money-header"},[a("RewardHeader",{attrs:{title:"打赏我的"}}),e._v(" "),a("van-list",{attrs:{finished:e.finished,"finished-text":"没有更多了"},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("van-pull-refresh",{on:{refresh:e.onRefresh},model:{value:e.isLoading,callback:function(t){e.isLoading=t},expression:"isLoading"}},[a("main",{staticClass:"reward-main"},e._l(e.rewardList,(function(t,n){return a("div",{key:n,staticClass:"reward-con cell-crossing"},[a("ContHeader",{attrs:{imgUrl:t._data.user_avatar,stateTitle:e.stateTitle,userId:t._data.user_id,amount:t._data.amount,time:e.$moment(t._data.created_at).format("YYYY-MM-DD HH:mm"),userName:t._data.user_name}},[a("div",{attrs:{slot:"operating"},on:{click:function(a){return a.preventDefault(),e.deleteReply(t._data.id)}},slot:"operating"},[e._v("删除")])]),e._v(" "),a("div",{staticClass:"reference"},[a("div",{staticClass:"reference-cont"},[a("span",[e._v(e._s(t._data.post_content))])])])],1)})),0)])],1),e._v(" "),a("footer",{staticClass:"my-info-money-footer"})],1)},i=[];a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}))},piPi:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(a("JZuw")),i=s(a("STKU")),r=s(a("/uo3")),o=s(a("3YLv"));function s(e){return e&&e.__esModule?e:{default:e}}t.default={data:function(){return{rewardList:[],stateTitle:"打赏了我",pageIndex:1,pageLimit:20,loading:!1,finished:!1,offset:100,isLoading:!1}},components:{RewardHeader:n.default,ContHeader:i.default,ContMain:r.default,ContFooter:o.default},created:function(){this.imgUrl="../../../../../../../static/images/mytx.png",this.myRewardList()},methods:{myRewardList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.appFetch({url:"notice",method:"get",data:{"page[number]":this.pageIndex,"page[limit]":this.pageLimit,"filter[type]":3}}).then((function(a){if(a.errors)throw e.$toast.fail(a.errors[0].code),new Error(a.error);console.log(a),t&&(e.rewardList=[]),e.rewardList=e.rewardList.concat(a.readdata),e.loading=!1,e.finished=a.data.length<e.pageLimit})).catch((function(t){e.loading&&1!==e.pageIndex&&e.pageIndex--,e.loading=!1}))},deleteReply:function(e){var t=this;console.log(e,"00000"),this.appFetch({url:"deleteNotification",method:"delete",splice:"/"+e,data:{}}).then((function(e){e.errors?t.$toast.fail(e.errors[0].code):(t.pageIndex=1,t.myRewardList(!0))}))},onLoad:function(){this.loading=!0,this.pageIndex++,this.myRewardList()},onRefresh:function(){var e=this;this.pageIndex=1,this.myRewardList(!0).then((function(){e.$toast("刷新成功"),e.isLoading=!1,e.finished=!1})).catch((function(t){e.$toast("刷新失败"),e.isLoading=!1}))}}}},zXmL:function(e,t,a){"use strict";a.r(t);var n=a("jMuB"),i=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,(function(){return n[e]}))}(r);t.default=i.a}}]);