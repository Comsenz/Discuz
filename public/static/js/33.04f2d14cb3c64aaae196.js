(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{"/V7O":function(e,t,c){"use strict";c.r(t);var a=c("atc6"),r=c("yDFb");for(var s in r)"default"!==s&&function(e){c.d(t,e,(function(){return r[e]}))}(s);var n=c("KHd+"),o=Object(n.a)(r.default,a.a,a.b,!1,null,null,null);t.default=o.exports},"0owY":function(e,t,c){},"4gYi":function(e,t,c){"use strict";c.r(t);var a=c("ji+i"),r=c("gxDo");for(var s in r)"default"!==s&&function(e){c.d(t,e,(function(){return r[e]}))}(s);var n=c("KHd+"),o=Object(n.a)(r.default,a.a,a.b,!1,null,null,null);t.default=o.exports},"6Akm":function(e,t,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),c("CmEe"),t.default={name:"card"}},ARSS:function(e,t,c){},CmEe:function(e,t,c){},Nn0y:function(e,t,c){"use strict";c.r(t);var a=c("XMfV"),r=c.n(a);for(var s in a)"default"!==s&&function(e){c.d(t,e,(function(){return a[e]}))}(s);t.default=r.a},XMfV:function(e,t,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),c("ARSS"),t.default={name:"form-row"}},atc6:function(e,t,c){"use strict";var a=function(){var e=this,t=e.$createElement,c=e._self._c||t;return c("div",{staticClass:"rol-permission-box"},[c("Card",{attrs:{header:"设置权限——角色名称（成员）"}}),e._v(" "),c("Card",{attrs:{header:"前台操作权限："}}),e._v(" "),c("Card",[c("CardRow",{attrs:{description:"查看主题列表页的权限"}},[c("el-checkbox",{attrs:{label:"viewThreadList"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("查看主题列表")])],1)],1),e._v(" "),c("Card",[c("CardRow",{attrs:{description:"查看主题的详情页的权限"}},[c("el-checkbox",{attrs:{label:"viewThread"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("查看主题详情")])],1)],1),e._v(" "),c("Card",[c("CardRow",{attrs:{description:"发布主题的权限"}},[c("el-checkbox",{attrs:{label:"createThread"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("发表帖子")])],1)],1),e._v(" "),c("Card",[c("CardRow",{attrs:{description:"回复主题的权限"}},[c("el-checkbox",{attrs:{label:"thread.reply"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("回复主题")])],1)],1),e._v(" "),c("Card",[c("CardRow",{attrs:{description:"发布主题时上传附件的权限"}},[c("el-checkbox",{attrs:{label:"attachment.create.0"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("上传附件")])],1)],1),e._v(" "),c("Card",[c("CardRow",{attrs:{description:"发布主题时上传图片的权限"}},[c("el-checkbox",{attrs:{label:"attachment.create.1"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("上传图片")])],1)],1),e._v(" "),c("Card",[c("CardRow",{attrs:{description:"查看主题的详情页中的附件的权限"}},[c("el-checkbox",{attrs:{label:"attachment.view.0"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("查看附件")])],1)],1),e._v(" "),c("Card",[c("CardRow",{attrs:{description:"查看主题的详情页中的图片的权限"}},[c("el-checkbox",{attrs:{label:"attachment.view.1"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("查看图片")])],1)],1),e._v(" "),c("Card",[c("CardRow",{attrs:{description:"查看站点成员列表、搜索成员的权限"}},[c("el-checkbox",{attrs:{label:"viewUserList"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("站点会员列表")])],1)],1),e._v(" "),c("Card",{attrs:{header:"前台管理权限："}}),e._v(" "),c("Card",[c("CardRow",{attrs:{description:"前台删除单个主题的权限"}},[c("el-checkbox",{attrs:{label:"thread.deletePosts"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("删帖")])],1)],1),e._v(" "),c("Card",[c("CardRow",{attrs:{description:"前台置顶、取消置顶主题的权限"}},[c("el-checkbox",{attrs:{label:"thread.sticky"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("置顶")])],1)],1),e._v(" "),c("Card",[c("CardRow",{attrs:{description:"前台精华、取消精华主题的权限"}},[c("el-checkbox",{attrs:{label:"thread.essence"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("加精")])],1)],1),e._v(" "),c("Card",[c("CardRow",{attrs:{description:"前台单个主题的编辑权限"}},[c("el-checkbox",{attrs:{label:"thread.editPosts"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("编辑")])],1)],1),e._v(" "),c("Card",[c("CardRow",{attrs:{description:"前台批量删除主题的权限"}},[c("el-checkbox",{attrs:{label:"thread.hide"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("批量删除主题")])],1)],1),e._v(" "),c("Card",[c("CardRow",{attrs:{description:"前台按用户组邀请成员的权限"}},[c("el-checkbox",{model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("管理-邀请加入")])],1)],1),e._v(" "),c("Card",[c("CardRow",{attrs:{description:"前台更改成员所属用户组的权限"}},[c("el-checkbox",{attrs:{label:"group.edit"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("编辑用户组")])],1)],1),e._v(" "),c("Card",[c("CardRow",{attrs:{description:"前台更改成员禁用状态的权限"}},[c("el-checkbox",{attrs:{label:"user.edit"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("编辑用户状态")])],1)],1),e._v(" "),c("Card",{attrs:{header:"默认权限："}}),e._v(" "),c("Card",[c("CardRow",{attrs:{description:""}},[c("p",{staticStyle:{"margin-left":"24PX"}},[e._v("站点信息")])])],1),e._v(" "),c("Card",[c("CardRow",{attrs:{description:""}},[c("p",{staticStyle:{"margin-left":"24PX"}},[e._v("主题点赞")])])],1),e._v(" "),c("Card",[c("CardRow",{attrs:{description:""}},[c("p",{staticStyle:{"margin-left":"24PX"}},[e._v("主题收藏")])])],1),e._v(" "),c("Card",[c("CardRow",{attrs:{description:""}},[c("p",{staticStyle:{"margin-left":"24PX"}},[e._v("主题打赏")])])],1),e._v(" "),c("Card",{staticClass:"footer-btn"},[c("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.submitClick}},[e._v("提交")])],1)],1)},r=[];c.d(t,"a",(function(){return a})),c.d(t,"b",(function(){return r}))},fsy8:function(e,t,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(c("QbLZ"));c("0owY");var r=s(c("zxK7"));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.default)({name:"user-permission-view"},r.default)},gxDo:function(e,t,c){"use strict";c.r(t);var a=c("6Akm"),r=c.n(a);for(var s in a)"default"!==s&&function(e){c.d(t,e,(function(){return a[e]}))}(s);t.default=r.a},"ji+i":function(e,t,c){"use strict";var a=function(){var e=this,t=e.$createElement,c=e._self._c||t;return c("div",{staticClass:"card-box"},[e.$attrs.header?c("div",{staticClass:"card-box__header",class:e.$slots.default?"":"not-main"},[c("header",{staticClass:"card-title",class:e.$attrs.intercept?"card-intercept-title":""},[e._v(e._s(e.$attrs.header))]),e._v(" "),e._t("header")],2):e._e(),e._v(" "),c("main",{staticClass:"card-box__main"},[e._t("default")],2)])},r=[];c.d(t,"a",(function(){return a})),c.d(t,"b",(function(){return r}))},pNQN:function(e,t,c){"use strict";c.r(t);var a=c("rbp7"),r=c("Nn0y");for(var s in r)"default"!==s&&function(e){c.d(t,e,(function(){return r[e]}))}(s);var n=c("KHd+"),o=Object(n.a)(r.default,a.a,a.b,!1,null,null,null);t.default=o.exports},rbp7:function(e,t,c){"use strict";var a=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-row-box"},[t("div",{staticClass:"card-row-lf"},[this._t("default")],2),this._v(" "),t("div",{staticClass:"card-row-rf"},[t("span",[this._v(this._s(this.$attrs.description))]),this._v(" "),this._t("tail")],2)])},r=[];c.d(t,"a",(function(){return a})),c.d(t,"b",(function(){return r}))},yDFb:function(e,t,c){"use strict";c.r(t);var a=c("fsy8"),r=c.n(a);for(var s in a)"default"!==s&&function(e){c.d(t,e,(function(){return a[e]}))}(s);t.default=r.a},zxK7:function(e,t,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(c("4gYi")),r=s(c("pNQN"));function s(e){return e&&e.__esModule?e:{default:e}}t.default={data:function(){return{checked:[]}},methods:{submitClick:function(){console.log(this.checked),this.patchGroupPermission()},getGroupResource:function(){var e=this;this.appFetch({url:"groups",method:"get",splice:"/"+this.$route.query.id,data:{include:["permission"]}}).then((function(t){console.log(t);var c=t.readdata.permission;e.checked=[],c.forEach((function(t){e.checked.push(t._data.permission)}))})).catch((function(e){console.log(e)}))},patchGroupPermission:function(){var e=this;this.appFetch({url:"groupPermission",method:"post",data:{data:{attributes:{groupId:this.$route.query.id,permissions:this.checked}}}}).then((function(t){console.log(t),t.errors?e.$message.error(t.errors[0].code):e.$message({showClose:!0,message:"提交成功",type:"success"})})).catch((function(e){console.log("错误"),console.log(e)}))}},created:function(){this.getGroupResource()},components:{Card:a.default,CardRow:r.default}}}}]);