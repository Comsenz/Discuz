(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{"/V7O":function(e,c,t){"use strict";t.r(c);var a=t("pAZT"),r=t("yDFb");for(var o in r)"default"!==o&&function(e){t.d(c,e,(function(){return r[e]}))}(o);var s=t("KHd+"),d=Object(s.a)(r.default,a.a,a.b,!1,null,null,null);c.default=d.exports},"0owY":function(e,c,t){},fsy8:function(e,c,t){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var a=o(t("QbLZ"));t("0owY");var r=o(t("zxK7"));function o(e){return e&&e.__esModule?e:{default:e}}c.default=(0,a.default)({name:"user-permission-view"},r.default)},pAZT:function(e,c,t){"use strict";var a=function(){var e=this,c=e.$createElement,t=e._self._c||c;return t("div",{staticClass:"rol-permission-box"},[t("Card",{attrs:{header:"设置权限——角色名称（成员）"}}),e._v(" "),t("Card",{attrs:{header:"前台操作权限："}}),e._v(" "),t("Card",[t("CardRow",{attrs:{description:"查看主题列表页的权限"}},[t("el-checkbox",{attrs:{label:"viewThreadList"},model:{value:e.checked,callback:function(c){e.checked=c},expression:"checked"}},[e._v("查看主题列表")])],1)],1),e._v(" "),t("Card",[t("CardRow",{attrs:{description:"查看主题的详情页的权限"}},[t("el-checkbox",{attrs:{label:"viewThreads"},model:{value:e.checked,callback:function(c){e.checked=c},expression:"checked"}},[e._v("查看主题详情")])],1)],1),e._v(" "),t("Card",[t("CardRow",{attrs:{description:"发布主题的权限"}},[t("el-checkbox",{attrs:{label:"createThread"},model:{value:e.checked,callback:function(c){e.checked=c},expression:"checked"}},[e._v("发表帖子")])],1)],1),e._v(" "),t("Card",[t("CardRow",{attrs:{description:"回复主题的权限"}},[t("el-checkbox",{attrs:{label:"thread.reply"},model:{value:e.checked,callback:function(c){e.checked=c},expression:"checked"}},[e._v("回复主题")])],1)],1),e._v(" "),t("Card",[t("CardRow",{attrs:{description:"发布主题时上传附件的权限"}},[t("el-checkbox",{attrs:{label:"attachment.create.0"},model:{value:e.checked,callback:function(c){e.checked=c},expression:"checked"}},[e._v("上传附件")])],1)],1),e._v(" "),t("Card",[t("CardRow",{attrs:{description:"发布主题时上传图片的权限"}},[t("el-checkbox",{attrs:{label:"attachment.create.1"},model:{value:e.checked,callback:function(c){e.checked=c},expression:"checked"}},[e._v("上传图片")])],1)],1),e._v(" "),t("Card",[t("CardRow",{attrs:{description:"查看站点成员列表、搜索成员的权限"}},[t("el-checkbox",{attrs:{label:"viewUserList"},model:{value:e.checked,callback:function(c){e.checked=c},expression:"checked"}},[e._v("站点会员列表")])],1)],1),e._v(" "),t("Card",{attrs:{header:"前台管理权限："}}),e._v(" "),t("Card",[t("CardRow",{attrs:{description:"前台删除单个主题的权限"}},[t("el-checkbox",{attrs:{label:"thread.deletePosts"},model:{value:e.checked,callback:function(c){e.checked=c},expression:"checked"}},[e._v("删帖")])],1)],1),e._v(" "),t("Card",[t("CardRow",{attrs:{description:"前台置顶、取消置顶主题的权限"}},[t("el-checkbox",{attrs:{label:"thread.sticky"},model:{value:e.checked,callback:function(c){e.checked=c},expression:"checked"}},[e._v("置顶")])],1)],1),e._v(" "),t("Card",[t("CardRow",{attrs:{description:"前台精华、取消精华主题的权限"}},[t("el-checkbox",{attrs:{label:"thread.essence"},model:{value:e.checked,callback:function(c){e.checked=c},expression:"checked"}},[e._v("加精")])],1)],1),e._v(" "),t("Card",[t("CardRow",{attrs:{description:"前台单个主题的编辑权限"}},[t("el-checkbox",{attrs:{label:"thread.editPosts"},model:{value:e.checked,callback:function(c){e.checked=c},expression:"checked"}},[e._v("编辑")])],1)],1),e._v(" "),t("Card",[t("CardRow",{attrs:{description:"前台批量删除主题的权限"}},[t("el-checkbox",{attrs:{label:"thread.hide"},model:{value:e.checked,callback:function(c){e.checked=c},expression:"checked"}},[e._v("批量删除主题")])],1)],1),e._v(" "),t("Card",[t("CardRow",{attrs:{description:"前台按用户组邀请成员的权限"}},[t("el-checkbox",{attrs:{label:"createInvite"},model:{value:e.checked,callback:function(c){e.checked=c},expression:"checked"}},[e._v("管理-邀请加入")])],1)],1),e._v(" "),t("Card",[t("CardRow",{attrs:{description:"前台更改成员所属用户组的权限"}},[t("el-checkbox",{attrs:{label:"group.edit"},model:{value:e.checked,callback:function(c){e.checked=c},expression:"checked"}},[e._v("编辑用户组")])],1)],1),e._v(" "),t("Card",[t("CardRow",{attrs:{description:"前台更改成员禁用状态的权限"}},[t("el-checkbox",{attrs:{label:"user.edit"},model:{value:e.checked,callback:function(c){e.checked=c},expression:"checked"}},[e._v("编辑用户状态")])],1)],1),e._v(" "),t("Card",{attrs:{header:"默认权限："}}),e._v(" "),t("Card",[t("CardRow",{attrs:{description:""}},[t("p",{staticStyle:{"margin-left":"24PX"}},[e._v("站点信息")])])],1),e._v(" "),t("Card",[t("CardRow",{attrs:{description:""}},[t("p",{staticStyle:{"margin-left":"24PX"}},[e._v("主题点赞")])])],1),e._v(" "),t("Card",[t("CardRow",{attrs:{description:""}},[t("p",{staticStyle:{"margin-left":"24PX"}},[e._v("主题收藏")])])],1),e._v(" "),t("Card",[t("CardRow",{attrs:{description:""}},[t("p",{staticStyle:{"margin-left":"24PX"}},[e._v("主题打赏")])])],1),e._v(" "),t("Card",{staticClass:"footer-btn"},[t("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.submitClick}},[e._v("提交")])],1)],1)},r=[];t.d(c,"a",(function(){return a})),t.d(c,"b",(function(){return r}))},yDFb:function(e,c,t){"use strict";t.r(c);var a=t("fsy8"),r=t.n(a);for(var o in a)"default"!==o&&function(e){t.d(c,e,(function(){return a[e]}))}(o);c.default=r.a},zxK7:function(e,c,t){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var a=o(t("4gYi")),r=o(t("pNQN"));function o(e){return e&&e.__esModule?e:{default:e}}c.default={data:function(){return{checked:[]}},methods:{submitClick:function(){console.log(this.checked),this.patchGroupPermission()},getGroupResource:function(){var e=this;this.appFetch({url:"groups",method:"get",splice:"/"+this.$route.query.id,data:{include:["permission"]}}).then((function(c){if(c.errors)e.$message.error(c.errors[0].code);else{console.log(c);var t=c.readdata.permission;e.checked=[],t.forEach((function(c){e.checked.push(c._data.permission)}))}})).catch((function(e){console.log(e)}))},patchGroupPermission:function(){var e=this;this.appFetch({url:"groupPermission",method:"post",data:{data:{attributes:{groupId:this.$route.query.id,permissions:this.checked}}}}).then((function(c){console.log(c),c.errors?e.$message.error(c.errors[0].code):e.$message({showClose:!0,message:"提交成功",type:"success"})})).catch((function(e){console.log("错误"),console.log(e)}))}},created:function(){this.getGroupResource()},components:{Card:a.default,CardRow:r.default}}}}]);