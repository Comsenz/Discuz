(window.webpackJsonp=window.webpackJsonp||[]).push([[98],{"19Nx":function(t,a,s){"use strict";s.r(a);var n=s("TZhB"),i=s("mfst");for(var e in i)"default"!==e&&function(t){s.d(a,t,(function(){return i[t]}))}(e);var o=s("KHd+"),c=Object(o.a)(i.default,n.a,n.b,!1,null,null,null);a.default=c.exports},"Qo/1":function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=o(s("QbLZ")),i=o(s("JZuw")),e=o(s("dWbn"));function o(t){return t&&t.__esModule?t:{default:t}}s("E2jd"),a.default=(0,n.default)({name:"detailsView",components:{comHeader:i.default}},e.default)},TZhB:function(t,a,s){"use strict";var n=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"circleCon"},[s("comHeader",{attrs:{title:"详情",menuIconShow:t.menuStatus}}),t._v(" "),s("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(a){t.isLoading=a},expression:"isLoading"}},[t.themeShow?s("div",{staticClass:"content marBfixed"},[s("div",{staticClass:"cirPostCon"},[s("div",{staticClass:"postTop"},[s("div",{staticClass:"postPer"},[t.themeCon.user&&t.themeCon.user._data.avatarUrl?s("img",{staticClass:"postHead",attrs:{src:t.themeCon.user._data.avatarUrl,alt:""},on:{click:function(a){return t.jumpPerDet(t.themeCon.user._data.id)}}}):s("img",{staticClass:"postHead",attrs:{src:t.appConfig.staticBaseUrl+"/images/noavatar.gif"},on:{click:function(a){return t.jumpPerDet(t.themeCon.user._data.id)}}}),t._v(" "),s("div",{staticClass:"perDet"},[t.themeCon.user?s("div",{staticClass:"perName",on:{click:function(a){return t.jumpPerDet(t.themeCon.user._data.id)}}},[t._v(t._s(t.themeCon.user._data.username))]):s("div",{staticClass:"perName"},[t._v("该用户已被删除")]),t._v(" "),s("div",{staticClass:"postTime"},[t._v(t._s(t.$moment(t.themeCon._data.createdAt).format("YYYY-MM-DD HH:mm")))])])]),t._v(" "),s("div",{staticClass:"postOpera"},[t.themeCon._data.isSticky?s("span",{staticClass:"icon iconfont icon-top"}):t._e()])]),t._v(" "),s("div",{staticClass:"postContent"},[s("a",{domProps:{innerHTML:t._s(t.themeCon.firstPost._data.contentHtml)}})]),t._v(" "),s("div",{staticClass:"postImgBox"},[s("div",{staticClass:"postImgList"},t._l(t.firstpostImageList,(function(a,n){return s("van-image",{key:n,attrs:{"lazy-load":"",key:"index",src:a},on:{click:function(a){return t.imageSwiper(n,"detailImg")}}})})),1)]),t._v(" "),t.isiOS?s("div",{staticClass:"uploadFileList"},t._l(t.themeCon.firstPost.attachments,(function(a,n){return s("a",{key:n,staticClass:"fileChi",on:{click:function(s){return t.downAttachment(a._data.url)}}},["rar"===a._data.extension?s("span",{staticClass:"icon iconfont icon-rar"}):t._e(),t._v(" "),"zip"===a._data.extension?s("span",{staticClass:"icon iconfont icon-rar"}):"doc"===a._data.extension?s("span",{staticClass:"icon iconfont icon-word"}):"docx"===a._data.extension?s("span",{staticClass:"icon iconfont icon-word"}):"pdf"===a._data.extension?s("span",{staticClass:"icon iconfont icon-pdf"}):"jpg"===a._data.extension?s("span",{staticClass:"icon iconfont icon-jpg"}):"mp"===a._data.extension?s("span",{staticClass:"icon iconfont icon-mp3"}):"mp1"===a._data.extension?s("span",{staticClass:"icon iconfont icon-mp4"}):"png"===a._data.extension?s("span",{staticClass:"icon iconfont icon-PNG"}):"ppt"===a._data.extension?s("span",{staticClass:"icon iconfont icon-ppt"}):"swf"===a._data.extension?s("span",{staticClass:"icon iconfont icon-swf"}):"TIFF"===a._data.extension?s("span",{staticClass:"icon iconfont icon-TIFF"}):"txt"===a._data.extension?s("span",{staticClass:"icon iconfont icon-txt"}):"xls"===a._data.extension?s("span",{staticClass:"icon iconfont icon-xls"}):s("span",{staticClass:"icon iconfont icon-doubt"}),t._v(" "),s("span",{staticClass:"fileName"},[t._v(t._s(a._data.fileName))])])})),0):s("div",{staticClass:"uploadFileList"},t._l(t.themeCon.firstPost.attachments,(function(a,n){return s("a",{key:n,staticClass:"fileChi",attrs:{href:a._data.url,download:""}},["rar"===a._data.extension?s("span",{staticClass:"icon iconfont icon-rar"}):t._e(),t._v(" "),"zip"===a._data.extension?s("span",{staticClass:"icon iconfont icon-rar"}):"doc"===a._data.extension?s("span",{staticClass:"icon iconfont icon-word"}):"docx"===a._data.extension?s("span",{staticClass:"icon iconfont icon-word"}):"pdf"===a._data.extension?s("span",{staticClass:"icon iconfont icon-pdf"}):"jpg"===a._data.extension?s("span",{staticClass:"icon iconfont icon-jpg"}):"mp"===a._data.extension?s("span",{staticClass:"icon iconfont icon-mp3"}):"mp1"===a._data.extension?s("span",{staticClass:"icon iconfont icon-mp4"}):"png"===a._data.extension?s("span",{staticClass:"icon iconfont icon-PNG"}):"ppt"===a._data.extension?s("span",{staticClass:"icon iconfont icon-ppt"}):"swf"===a._data.extension?s("span",{staticClass:"icon iconfont icon-swf"}):"TIFF"===a._data.extension?s("span",{staticClass:"icon iconfont icon-TIFF"}):"txt"===a._data.extension?s("span",{staticClass:"icon iconfont icon-txt"}):"xls"===a._data.extension?s("span",{staticClass:"icon iconfont icon-xls"}):s("span",{staticClass:"icon iconfont icon-doubt"}),t._v(" "),s("span",{staticClass:"fileName"},[t._v(t._s(a._data.fileName))])])})),0),t._v(" "),s("div",{staticClass:"postDetBot"},[s("span",{staticClass:"readNum"},[t._v(t._s(t.themeCon._data.viewCount)+" 阅读")]),t._v(" "),t.themeCon._data.canEssence||t.themeCon._data.canSticky||t.themeCon._data.canHide||t.themeCon._data.canEdit?s("div",{ref:"screenBox",staticClass:"screen",on:{click:t.bindScreen}},[s("span",[t._v("管理")]),t._v(" "),s("span",{staticClass:"icon iconfont icon-down-menu jtGrayB"}),t._v(" "),t.showScreen?s("div",{staticClass:"themeList"},[t.themeCon._data.canEssence?s("a",{attrs:{href:"javascript:;"},on:{click:function(a){return t.themeOpera(t.themeCon.firstPost._data.id,2,t.themeCon.category._data.id,t.themeCon.firstPost._data.content)}}},[t._v(t._s(t.essenceFlag))]):t._e(),t._v(" "),t.themeCon._data.canSticky?s("a",{attrs:{href:"javascript:;"},on:{click:function(a){return t.themeOpera(t.themeCon.firstPost._data.id,3,t.themeCon.category._data.id,t.themeCon.firstPost._data.content)}}},[t._v(t._s(t.stickyFlag))]):t._e(),t._v(" "),t.themeCon._data.canHide?s("a",{attrs:{href:"javascript:;"},on:{click:function(a){return t.themeOpera(t.themeCon.firstPost._data.id,4,t.themeCon.category._data.id,t.themeCon.firstPost._data.content)}}},[t._v("删除")]):t._e(),t._v(" "),t.themeCon.firstPost._data.canEdit?s("a",{attrs:{href:"javascript:;"},on:{click:function(a){return t.themeOpera(t.themeCon.firstPost._data.id,5,t.themeCon.category._data.id,t.themeCon.firstPost._data.content)}}},[t._v("编辑")]):t._e()]):t._e()]):t._e(),t._v(" "),s("a",{staticClass:"postDetR",attrs:{href:"javascript:;"},on:{click:function(a){return t.themeOpera(t.themeCon.firstPost._data.id,1,t.themeCon.category._data.id,t.themeCon.firstPost._data.content)}}},[t._v(t._s(t.collectFlag))]),t._v(" "),s("a",{staticClass:"postDetR",attrs:{href:"javascript:;"},on:{click:t.shareTheme}},[t._v("分享")]),t._v(" "),s("input",{attrs:{type:"button",hidden:"",value:"点击复制代码"}})])]),t._v(" "),s("div",{staticClass:"gap"}),t._v(" "),s("div",{staticClass:"commentBox"},[t.themeCon.firstPost.likedUsers.length>0?s("div",{staticClass:"likeBox"},[s("span",{staticClass:"icon iconfont icon-praise-after"}),t._v(" "),s("span",{attrs:{id:"likedUserList"},domProps:{innerHTML:t._s(t.userArr(t.themeCon.firstPost.likedUsers))}})]):t._e(),t._v(" "),t.themeCon.rewardedUsers.length>0?s("div",{staticClass:"payPer"},[s("span",{staticClass:"icon iconfont icon-money"}),t._v(" "),t._l(t.themeCon.rewardedUsers,(function(a){return a._data.avatarUrl?s("img",{staticClass:"payPerHead",attrs:{src:a._data.avatarUrl},on:{click:function(s){return t.jumpPerDet(a._data.id)}}}):s("img",{staticClass:"payPerHead",attrs:{src:t.appConfig.staticBaseUrl+"/images/noavatar.gif"},on:{click:function(s){return t.jumpPerDet(a._data.id)}}})}))],2):t._e(),t._v(" "),s("van-list",{attrs:{finished:t.finished,offset:t.offset,"finished-text":"没有更多了","immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(a){t.loading=a},expression:"loading"}},t._l(t.themeCon.posts,(function(a,n){return s("div",{key:n},[s("div",{staticClass:"commentPostDet"},[s("div",{staticClass:"postTop"},[s("div",{staticClass:"postPer"},[a.user&&a.user._data.avatarUrl?s("img",{staticClass:"postHead",attrs:{src:a.user._data.avatarUrl},on:{click:function(s){return t.jumpPerDet(a.user._data.id)}}}):s("img",{staticClass:"postHead",attrs:{src:t.appConfig.staticBaseUrl+"/images/noavatar.gif"},on:{click:function(s){return t.jumpPerDet(a.user._data.id)}}}),t._v(" "),s("div",{staticClass:"perDet"},[a.user&&a.user._data.username?s("div",{staticClass:"perName",on:{click:function(s){return t.jumpPerDet(a.user._data.id)}}},[t._v(t._s(a.user._data.username))]):s("div",{staticClass:"perName"},[t._v("该用户已被删除")]),t._v(" "),s("div",{staticClass:"postTime"},[t._v(t._s(t.$moment(a._data.updatedAt).format("YYYY-MM-DD HH:mm")))])])])]),t._v(" "),s("div",{staticClass:"postContent"},[s("a",{attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a._data.contentHtml)}})]),t._v(" "),s("div",{staticClass:"postImgBox"},[s("div",{staticClass:"themeImgList moreImg"},t._l(a.images,(function(a,i){return s("van-image",{key:i,attrs:{"lazy-load":"",src:a._data.thumbUrl},on:{click:function(a){return t.imageSwiper(i,"replyImg",n)}}})})),1)])]),t._v(" "),s("div",{staticClass:"commentOpera padT22"},[a._data.canHide?s("a",{on:{click:function(s){return t.deleteOpear(a._data.id,n)}}},[t._v("删除")]):t._e(),t._v(" "),a._data.isLiked?s("a",{on:{click:function(s){return t.replyOpera(a._data.id,"2",a._data.isLiked,a._data.canLike,n)}}},[s("span",{staticClass:"icon iconfont icon-praise-after",class:{"icon-like":t.likedClass}}),t._v(t._s(a._data.likeCount))]):s("a",{on:{click:function(s){return t.replyOpera(a._data.id,"2",a._data.isLiked,a._data.canLike,n)}}},[s("span",{staticClass:"icon iconfont icon-like",class:{"icon-praise-after":t.likedClass}}),t._v(t._s(a._data.likeCount))]),t._v(" "),s("a",{staticClass:"icon iconfont icon-review",on:{click:function(s){return t.replyToJump(t.themeCon._data.id,a._data.id,a._data.content)}}})])])})),0)],1)]):t._e()]),t._v(" "),s("div",{staticClass:"detailsFooter",attrs:{id:"detailsFooter"}},[s("div",{staticClass:"footChi",on:{click:function(a){return t.replyToJump(t.themeCon._data.id,0,!1)}}},[s("span",{staticClass:"icon iconfont icon-review"}),t._v("\n            回复\n          ")]),t._v(" "),s("div",{staticClass:"footChi",on:{click:function(a){return t.footReplyOpera(t.themeCon.firstPost._data.id,"3",t.themeCon.firstPost._data.isLiked)}}},[t.themeCon.firstPost._data.isLiked?s("span",{staticClass:"icon iconfont icon-praise-after"}):s("span",{staticClass:"icon iconfont icon-like"}),t._v("\n            赞\n          ")]),t._v(" "),s("div",{staticClass:"footChi",on:{click:t.showRewardPopup}},[s("span",{staticClass:"icon iconfont icon-reward"}),t._v("\n            打赏\n          ")])]),t._v(" "),s("van-popup",{staticClass:"rewardPopup",style:{width:"100%"},attrs:{id:"rewardPopup",closeable:"","close-icon-position":"top-right",position:"bottom"},model:{value:t.rewardShow,callback:function(a){t.rewardShow=a},expression:"rewardShow"}},[s("span",{staticClass:"support"},[t._v("支持作者继续创作")]),t._v(" "),s("div",{staticClass:"rewardMonBox"},t._l(t.rewardNumList,(function(a,n){return s("a",{key:n,staticClass:"moneyChi",on:{click:function(s){return t.payClick(a.rewardNum)}}},[s("span",[t._v(t._s(a.rewardNum))]),t._v("元\n            ")])})),0)]),t._v(" "),s("van-popup",{staticClass:"qrCodeBox",attrs:{round:"","close-icon-position":"top-right",closeable:"","get-container":"body"},model:{value:t.qrcodeShow,callback:function(a){t.qrcodeShow=a},expression:"qrcodeShow"}},[s("span",{staticClass:"popupTit"},[t._v("立即支付")]),t._v(" "),s("div",{staticClass:"payNum"},[t._v("￥"),s("span",[t._v(t._s(t.amountNum))])]),t._v(" "),s("div",{staticClass:"payType"},[s("span",{staticClass:"typeLeft"},[t._v("支付方式")]),t._v(" "),s("span",{staticClass:"typeRight"},[s("i",{staticClass:"icon iconfont icon-wepay"}),t._v("微信支付")])]),t._v(" "),s("img",{staticClass:"qrCode",attrs:{src:t.codeUrl,alt:""}}),t._v(" "),s("p",{staticClass:"payTip"},[t._v("微信识别二维码支付")])]),t._v(" "),t.loginBtnFix?s("van-button",{staticClass:"loginBtnFix",class:{hide:t.loginHide},attrs:{type:"primary"},on:{click:function(a){return t.loginJump(1)}}},[t._v("登录 / 注册")]):t._e()],1)},i=[];s.d(a,"a",(function(){return n})),s.d(a,"b",(function(){return i}))},mfst:function(t,a,s){"use strict";s.r(a);var n=s("Qo/1"),i=s.n(n);for(var e in n)"default"!==e&&function(t){s.d(a,t,(function(){return n[t]}))}(e);a.default=i.a}}]);